!Test script
#-
cargo run -q -- test -r
#/

!The program is tested by an earlier version of itself. Pretty epic

#test r!
run test/basic: -q

run test/phases:
run test/phases: -b
run test/phases: --build-and-run
run test/phases: -r

run test/error:phase || sh -c "exit 0"
run test/error:internal || sh -c "exit 0"

run test/args:

run test/chars:

run test/num: one three two

run test/pipe:

run test/glob:
#/

#- b!
cargo build --release --target x86_64-pc-windows-gnu
tar czf runscript-windows-x86_64.tar.gz -C target/x86_64-pc-windows-gnu/release run.exe

cargo build --release --target x86_64-apple-darwin
tar czf runscript-macos-x86_64.tar.gz -C target/x86_64-apple-darwin/release run

cargo build --release --target x86_64-unknown-linux-musl
tar czf runscript-linux-x86_64.tar.gz -C target/x86_64-unknown-linux-musl/release run
#/